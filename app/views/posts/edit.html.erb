<div class="main posts-new">
  <div class="container">
    <h1 class="form-heading">編集する</h1>
    <%= form_tag("/posts/#{@post.id}/update") do %>
      <div class="form">
        <div id ="app" class="form-body">
          <p>140文字</p>
          <% @post.errors.full_messages.each do |message| %>
            <div class="form-error">
              <%= message %>
            </div>
          <% end %>
          <textarea name="content" v-model="content"><%= @post.content %></textarea>
          <input type="submit" value="保存">
          <p>{{ length() }}</p>
        </div>
      </div>
    <% end %>
  </div>
  <script>
    var demo = new Vue({
	    el: '#app',
	    data: {
		    content: '<%= @post.content %>'
      },
      methods: {
        length: function() {
          if (this.content.length > 0) {
            return this.content.length;
          }
        }
      }
    })
  </script>
</div>